sudo: false
language: c
dist: trusty

matrix:
  include:

    - os: linux
      compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - gcc-4.9
      env:
        - CC='gcc-4.9'
        - CXX='g++-4.9'

    - os: linux
      compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - gcc-5
      env:
        - CC='gcc-5'
        - CXX='g++-5'

    - os: linux
      compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - gcc-6
      env:
        - CC='gcc-6'
        - CXX='g++-6'

    - os: linux
      compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - gcc-7
      env:
        - CC='gcc-7'
        - CXX='g++-7'

    - os: linux
      compiler: clang
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.6
          packages:
            - clang-3.6
      env:
        - CC='clang-3.6'
        - CXX='clang++-3.6'

    - os: linux
      compiler: clang
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.7
          packages:
            - clang-3.7
      env:
        - CC='clang-3.7'
        - CXX='clang++-3.7'

    - os: linux
      compiler: clang
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.8
          packages:
            - clang-3.8
      env:
        - CC='clang-3.8'
        - CXX='clang++-3.8'

    - os: osx
      compiler: clang
      env:
        - CC='clang'
        - CXX='clang++'

    - os: osx
      compiler: gcc
      env:
        - CC='gcc'
        - CXX='g++'

script:
    - make
